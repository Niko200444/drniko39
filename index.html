<!-- filepath: /mnt/data/index.html -->
<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <title>DR Nƒ∞KO </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#020617" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Firebase (compat) ‚Äì doldurmasanƒ±z, bulud funksiyasƒ± sakitc…ô s√∂nd√ºr√ºl√ºr -->
  <script>
    // TODO: Buraya √∂z Firebase layih…ônizin config-ni …ôlav…ô edin.
    
  window.FIREBASE_CONFIG = {
    apiKey: "AIzaSyCOLGCIOWD0G5pNZWNYSqrT5VJjYehzheU",
  authDomain: "hola-b40e3.firebaseapp.com",
  databaseURL: "https://hola-b40e3-default-rtdb.firebaseio.com",
  projectId: "hola-b40e3",
  storageBucket: "hola-b40e3.firebasestorage.app",
  messagingSenderId: "333880238833",
  appId: "1:333880238833:web:6119d514d2f3267e7e3f50",
  measurementId: "G-81P0KGGS7J"
  };


    // window.FIREBASE_CONFIG = { apiKey:"", authDomain:"", projectId:"", ... };
    window.FIREBASE_CONFIG = window.FIREBASE_CONFIG || null;
  </script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
 
</head>
<body>
  <!-- Dark mode button -->
  <button id="darkModeToggle" class="floating-dark-btn">
    <i class="fa fa-moon"></i>
    <span>Qaranlƒ±q rejim</span>
  </button>

  <!-- Admin login button -->
  <button id="adminLoginBtn" class="floating-admin-btn">
    <i class="fa fa-user-shield"></i>
    <span>Admin giri≈üi</span>
  </button>

  <!-- Quick Flashcard toggle -->
<button id="flashcardFloatingToggle" class="floating-flashcard-btn hidden" title="Flashcard rejimini a√ß/baƒüla">
    üóÇÔ∏è Flashcard
  </button>

  <!-- Welcome screen -->
  <div id="welcomeScreen" class="welcome-screen">
    <div class="welcome-card">
      <h1>DR Nƒ∞KO</h1>
      <p></p>
      <button id="startBtn" class="primary-btn">
        <i class="fa fa-play"></i> Ba≈üla
      </button>
</div>
  </div>

  <!-- Main content -->
  <div id="mainContent" class="main-content" style="display:none;">
    <header class="top-bar">
      <div class="logo">
        <span class="logo-main">DR Nƒ∞KO</span>
        <span class="logo-sub"></span>
      </div>

      <div class="top-actions">
        <div id="questionCountContainer" class="top-control">
          <label for="questionsPerPage">S…ôhif…ôd…ô sual:</label>
          <select id="questionsPerPage">
            <option value="5">5</option>
            <option value="10" selected>10</option>
            <option value="20">20</option>
          </select>
        
        <button id="installBtn" class="secondary-btn pwa-install hidden" title="Proqram kimi qura≈üdƒ±r">
          <i class="fa fa-download"></i> Proqram kimi qura≈üdƒ±r
        </button>

        <div id="authBox" class="top-control auth-box">
          <button id="googleSignInBtn" class="secondary-btn">
            <i class="fa fa-google"></i> Google il…ô daxil ol
          </button>
          <div id="userBadge" class="user-badge hidden">
            <img id="userPhoto" alt="user" />
            <span id="userName"></span>
            <button id="signOutBtn" class="link-btn">√áƒ±xƒ±≈ü</button>
          </div>
        
        <div id="syncControls" class="top-control topbar-compact">
  <button id="syncUpBtn" class="secondary-btn icon-btn icon-only" title="Yerli ‚Üí Bulud" aria-label="Yerli ‚Üí Bulud" disabled>‚Üë</button>
  <button id="pullDownBtn" class="secondary-btn icon-btn icon-only" title="Bulud ‚Üí Yerli" aria-label="Bulud ‚Üí Yerli" disabled>‚Üì</button>
  <label class="top-toggle" title="Yerli d…ôyi≈üiklikl…ôri avtomatik buluda yaz">
    <input type="checkbox" id="autoSyncToggle" />
    <span>Auto‚Äësync</span>
  </label>
  <span id="syncStatus" class="note-pill"></span>
</div>
</div>
</div>

        <button id="focusModeBtn" class="secondary-btn" title="Focus Mode">üéØ Focus</button>
        <div id="searchContainer" class="top-control">
          <i class="fa fa-search"></i>
          <input id="searchInput" type="text" placeholder="Sual v…ô ya cavabda axtar..." />
        </div>

        <div id="statsTiny" class="top-control tiny-stats">
          <span id="tinyTotal">0</span> sual ¬∑
          <span id="tinyAnswered">0</span> cavab ¬∑
          <span id="tinyCorrect">0</span> d√ºzg√ºn
        </div>
      </div>
    </header>

    <div class="layout">
      <!-- Left: categories -->
      <aside class="categories">
        <h2 class="section-title">
          <i class="fa fa-layer-group"></i> Kateqoriyalar
        </h2>
        <div class="category-list">
          <div class="all-mix-inline" style="display:flex;align-items:center;gap:6px;"><button class="category-btn" data-category="__ALL__"><i class="fa fa-layer-group"></i> ALL (mix)</button><button id="mixEditBtn" class="icon-btn" title="ALL d√ºz…ônl…ô" style="padding:4px 6px;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer"><i class="fa fa-pen"></i></button></div>
          <button class="category-btn" data-category="uxx.json">
            <i class="fa fa-baby"></i> U≈üaq x…ôst…ôlikl…ôri
          </button>
          <button class="category-btn" data-category="sua.json">
            <i class="fa fa-ambulance"></i> ≈û√ºa semestr
          </button>
          <button class="category-btn" data-category="torakal.json">
            <i class="fa fa-flask"></i> Torakal
          </button>
          <button class="category-btn" data-category="plastik.json">
            <i class="fa fa-heartbeat"></i> Plastik
          </button>
          <button class="category-btn" data-category="aaa.json">
            <i class="fa fa-brain"></i> Se√ßim
          </button>
          <button class="category-btn" data-category="se√ßim.json">
            <i class="fa fa-dna"></i> Se√ßim 2
          </button>
          <button class="category-btn" data-category="sec.json">
            <i class="fa fa-virus"></i> Se√ßim semestr
          </button>
          <button class="category-btn" data-category="patandyes.json">
            <i class="fa fa-bacteria"></i> DYES
          </button>
          <button class="category-btn" data-category="mikrob1.json">
            <i class="fa fa-microchip"></i> Mƒ∞KROB 1
          </button>
          <button class="category-btn" data-category="mikrob2.json">
            <i class="fa fa-microchip"></i> Mƒ∞KROB 2
          </button>
          <button class="category-btn" data-category="norfiz1.json">
            <i class="fa fa-microchip"></i> NORFƒ∞Z 1
          </button>
          <button class="category-btn" data-category="norfiz2.json">
            <i class="fa fa-microchip"></i> NORFƒ∞Z 2
          </button>
        </div>

        <div id="categoryResetContainer" class="reset-block">
          <button id="categoryResetBtn" class="secondary-btn">
            <i class="fa fa-undo"></i> Bu kateqoriyanƒ± sƒ±fƒ±rla
          </button>
          <button id="clearAllBtn" class="danger-link">
            <i class="fa fa-bomb"></i> B√ºt√ºn m…ôlumatlarƒ± t…ômizl…ô
          </button>
        </div>
      </aside>

      <!-- Center: quiz -->
      <main class="quiz-area">
        <!-- Exam panel -->
        <div class="exam-bar">
          <div id="examStatusText" class="exam-status">
            Praktika rejimind…ôs…ôn v…ô ya imtahana ba≈ülaya bil…ôrs…ôn.
          </div>
          <div class="exam-controls-inline">
            <span id="examTimer" class="exam-timer hidden">00:00</span>
            <button id="examStartBtn" type="button" class="exam-btn hidden">
              <i class="fa fa-play"></i> ƒ∞mtahana ba≈üla
            </button>
            <button id="examFinishBtn" type="button" class="exam-btn secondary hidden">
              <i class="fa fa-flag-checkered"></i> ƒ∞mtahanƒ± bitir
            </button>
          </div>
        </div>

        <div id="examSummary" class="exam-summary hidden"></div>
<!-- Ardƒ±cƒ±l/Random + Prev/Next -->
        <div id="flashcardControls" class="flashcard-controls hidden">
          <div class="flash-nav">
            <button id="prevCard" class="icon-btn large"><i class="fa fa-arrow-left"></i> ∆èvv…ôlki</button>
            <div id="cardCounter" class="card-counter">1/1</div>
            <button id="nextCard" class="icon-btn large">N√∂vb…ôti <i class="fa fa-arrow-right"></i></button>
          </div>
        </div>

        <!-- Filterl…ôr -->
        <div class="quiz-filters">
          <button id="openNotesBtn" class="quiz-filter-btn notes-btn" type="button" title="Qeydl…ôri idar…ô et">üìù NOTES</button>
          <button class="quiz-filter-btn active" data-filter="all">B√ºt√ºn suallar</button>
          <button class="quiz-filter-btn" data-filter="wrong">Loserlar √º√ß√ºn </button>
          <button class="quiz-filter-btn" data-filter="flagged">Yalnƒ±z flagli suallar</button>
          <button class="quiz-filter-btn" data-filter="noted">Qeydli suallar</button>
        </div><div id="quizContainer" class="quiz-container">
          <div class="empty-hint">
            <div class="emoji">üëã</div>
            <p>Ba≈ülamaq √º√ß√ºn soldan bir kateqoriya se√ß</p>
          </div>
        </div>

        <div id="pageNavigation" class="page-nav"></div>
      </main>

      <!-- Right: side panel -->
      <aside class="side-panel" id="sidePanel">
        <div class="side-panel-header">
          <h2><i class="fa fa-chart-pie"></i> N…ôtic…ôl…ôr</h2>
        </div>
        <section class="side-section">
          <h3>Sƒ±ralama</h3>
          <div class="quiz-order-toggle pill-toggle side">
          <label>
            <input type="radio" name="quizOrder" value="sequential" checked />
            <span>Ardƒ±cƒ±l</span>
          </label>
          <label>
            <input type="radio" name="quizOrder" value="random" />
            <span>Random</span>
          </label>
        </div>
          <p class="hint-small">Suallarƒ±n g√∂st…ôrilm…ô qaydasƒ±nƒ± se√ß.</p>
        </section>
    

        <section class="side-section">
          <h3>√úmumi statistika</h3>
          <div id="statsInfo" class="stats-info"></div>
        </section>

        <section class="side-section">
          <h3>S…ôhv suallar</h3>
          <div id="wrongQuestionsList" class="mini-list"></div>
        </section>

        <section class="side-section">
          <h3>ƒ∞≈üar…ôl…ônmi≈ü (flag)</h3>
          <div id="flaggedQuestionsList" class="mini-list"></div>
        </section>

        <section class="side-section">
          <h3>Qeydli suallar</h3>
          <div id="notedQuestionsList" class="mini-list"></div>
        </section>

        <section class="side-section">
          <h3>T…ôkrar s…ôhvl…ôr</h3>
          <div id="repeatedMistakesList" class="mini-list"></div>
        </section>

        <section class="side-section">
          <h3>Bulud d…ôyi≈üiklikl…ôri (Firebase)</h3>
          <p class="side-help">
            Adminin payla≈üdƒ±ƒüƒ± sual m…ôtni d…ôyi≈üiklikl…ôri. Klikl…ô v…ô yerli t…ôtbiq et.
          </p>
          <div style="display:flex;gap:6px;align-items:center;margin-bottom:6px;">
            <button id="cloudRefreshBtn" class="icon-btn"><i class="fa fa-rotate"></i> Yenil…ô</button>
            <span id="cloudStatus" class="note-pill"></span>
          </div>
          <div id="cloudEditedQuestionsList" class="mini-list"></div>
        </section>

        <section class="side-section"><div id="editedQuestionsList" class="mini-list"></div></section>
      </aside>

      <!-- Yan panel √º√ß√ºn ox -->
      <button id="sidePanelToggle" class="side-toggle" type="button">
        <i class="fa fa-chevron-right"></i>
      </button>
    </div>
  </div>

 

<script src="app.js"></script>
<script id="flashcardFloatingToggleInit">
  window.addEventListener('DOMContentLoaded', function(){
    var fbtn = document.getElementById('flashcardFloatingToggle');
    if (fbtn) fbtn.classList.add('hidden');
    var sb = document.getElementById('startBtn');
    if (sb) sb.addEventListener('click', function(){
      var fbtn2 = document.getElementById('flashcardFloatingToggle');
      if (fbtn2) fbtn2.classList.remove('hidden');
    });
  });
</script>
</body>
</html>
